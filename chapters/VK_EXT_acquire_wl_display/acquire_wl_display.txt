[open,refpage='vkAcquireWaylandDisplayEXT',desc='Acquire access to a VkDisplayKHR using Wayland',type='protos']
--

To acquire permission to directly access a display in Vulkan from a Wayland
compositor, call:

include::{generated}/api/protos/vkAcquireWaylandDisplayEXT.txt[]

  * pname:physicalDevice is the handle to the physical device the display is on.
  * pname:display A code:wl_display associated with the Wayland compositor that
	the application wishes to acquire the display(s) from.
  * pname:manager A zwp_drm_lease_manager_v1 connected to the Wayland compositor
	that associated with the connectors.
  * pname:pConnectorCount The number of valid pointers in the pname:pConnectors
	array.
  * pname:pConnectors Array of slink:VkWaylandLeaseConnectorEXT to be acquired.

All permissions necessary to control the display are granted to the Vulkan
instance associated with pname:physicalDevice until the display is released, the
Wayland connection specified by pname:display is terminated, or the compositor
revokes the lease.
If the Wayland server declines to grant the lease or the granted lease does not
include the requested connectors, the call must: return the error code
ename:VK_ERROR_INITIALIZATION_FAILED.
If the Wayland server later revokes the lease, requests using the
acquired slink:VkDisplayKHR resources must: fail with
ename:VK_ERROR_SURFACE_LOST_KHR.

include::{generated}/validity/protos/vkAcquireWaylandDisplayEXT.txt[]
--

[open,refpage='VkWaylandLeaseConnectorEXT',desc='Resource for relating Wayland connectors to VkDisplayKHRs',type='structs']
--

The sname:VkWaylandLeaseConnectorEXT structure is defined as:

include::{generated}/api/structs/VkWaylandLeaseConnectorEXT.txt[]

  * pname:pConnector A Wayland zwp_drm_lease_connector_v1 to include in the
	lease.
  * pname:pDisplay The corresponding slink:VkDisplayKHR handle will be
    returned here.

The implementation will make a best-effort attempt to match each
slink:VkDisplayKHR acquired from the Wayland compositor to the appropriate
pname:pConnectorIn. If no match is found or the result would be ambiguous, the
lease is terminated, and flink:vkAcquireWaylandDisplayEXT must: return
ename:VK_ERROR_INITIALIZATION_FAILED.

include::{generated}/validity/structs/VkWaylandLeaseConnectorEXT.txt[]
--
