// Copyright 2019-2026 The Khronos Group Inc.
//
// SPDX-License-Identifier: CC-BY-4.0

// Common Valid Usage
// common to all pipeline creations
  * [[VUID-{refpage}-None-09497]]
    {empty}
ifdef::VK_BASE_VERSION_1_4,VK_KHR_maintenance5[]
    If the pname:pNext chain does not include a
    slink:VkPipelineCreateFlags2CreateInfo structure,
endif::VK_BASE_VERSION_1_4,VK_KHR_maintenance5[]
    pname:flags must: be a valid combination of
    elink:VkPipelineCreateFlagBits values
ifndef::VKSC_VERSION_1_0[]
  * [[VUID-{refpage}-flags-07984]]
    If pname:flags contains the ename:VK_PIPELINE_CREATE_DERIVATIVE_BIT
    flag, and pname:basePipelineIndex is -1, pname:basePipelineHandle must:
    be a valid {pipelineType} sname:VkPipeline handle
  * [[VUID-{refpage}-flags-07985]]
    If pname:flags contains the ename:VK_PIPELINE_CREATE_DERIVATIVE_BIT
    flag, and pname:basePipelineHandle is dlink:VK_NULL_HANDLE,
    pname:basePipelineIndex must: be a valid index into the calling
    command's pname:pCreateInfos parameter
  * [[VUID-{refpage}-flags-07986]]
    If pname:flags contains the ename:VK_PIPELINE_CREATE_DERIVATIVE_BIT
    flag, pname:basePipelineIndex must: be -1 or pname:basePipelineHandle
    must: be dlink:VK_NULL_HANDLE
endif::VKSC_VERSION_1_0[]
ifdef::VKSC_VERSION_1_0[]
  * [[VUID-{refpage}-basePipelineHandle-05024]]
    pname:basePipelineHandle must: be dlink:VK_NULL_HANDLE
  * [[VUID-{refpage}-basePipelineIndex-05025]]
    pname:basePipelineIndex must: be zero
endif::VKSC_VERSION_1_0[]
  * [[VUID-{refpage}-layout-07987]]
    If a push constant block is declared in a shader and pname:layout is not
    dlink:VK_NULL_HANDLE, a push constant range in pname:layout must: match
    the shader stage
  * [[VUID-{refpage}-layout-10069]]
    If a push constant block is declared in a shader and pname:layout is not
    dlink:VK_NULL_HANDLE, the block must be contained inside the push
    constant range in pname:layout that matches the stage
  * [[VUID-{refpage}-layout-07988]]
    If a <<interfaces-resources,resource variable>> is declared in a shader
    and pname:layout is not dlink:VK_NULL_HANDLE, the corresponding
    descriptor set in pname:layout must: match the shader stage
  * [[VUID-{refpage}-layout-07990]]
    If a <<interfaces-resources,resource variable>> is declared in a shader,
    pname:layout is not dlink:VK_NULL_HANDLE,
ifdef::VK_EXT_mutable_descriptor_type,VK_VALVE_mutable_descriptor_type[]
    and the descriptor type is not ename:VK_DESCRIPTOR_TYPE_MUTABLE_EXT,
endif::VK_EXT_mutable_descriptor_type,VK_VALVE_mutable_descriptor_type[]
    the corresponding descriptor set in pname:layout must: match the
    descriptor type
  * [[VUID-{refpage}-layout-07991]]
    If a <<interfaces-resources,resource variable>> is declared in a shader
    as an array and pname:layout is not dlink:VK_NULL_HANDLE, the
    corresponding descriptor binding used to create pname:layout must: have
    a pname:descriptorCount that is greater than or equal to the length of
    the array
ifdef::VK_COMPUTE_VERSION_1_3,VK_EXT_inline_uniform_block[]
  * [[VUID-{refpage}-None-10391]]
    If a <<interfaces-resources,resource variables>> is declared in a shader
    as an array of descriptors, then the descriptor type of that variable
    must: not be ename:VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK
endif::VK_COMPUTE_VERSION_1_3,VK_EXT_inline_uniform_block[]
ifdef::VK_EXT_shader_64bit_indexing[]
  * [[VUID-{refpage}-flags-11798]]
    If <<features-shader64BitIndexing,shader64BitIndexing>> feature is not
    enabled, pname:flags must: not contain
    ename:VK_PIPELINE_CREATE_2_64_BIT_INDEXING_BIT_EXT
endif::VK_EXT_shader_64bit_indexing[]
ifdef::VK_COMPUTE_VERSION_1_3,VK_EXT_pipeline_creation_cache_control[]
  * [[VUID-{refpage}-pipelineCreationCacheControl-02878]]
    If the <<features-pipelineCreationCacheControl,
    pname:pipelineCreationCacheControl>> feature is not enabled, pname:flags
    must: not include
    ename:VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT nor
    ename:VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT
endif::VK_COMPUTE_VERSION_1_3,VK_EXT_pipeline_creation_cache_control[]
ifdef::VK_COMPUTE_VERSION_1_4,VK_EXT_pipeline_protected_access[]
  * [[VUID-{refpage}-pipelineProtectedAccess-07368]]
    If the <<features-pipelineProtectedAccess,
    pname:pipelineProtectedAccess>> feature is not enabled, pname:flags
    must: not include ename:VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT nor
    ename:VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT
  * [[VUID-{refpage}-flags-07369]]
    pname:flags must: not include both
    ename:VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT and
    ename:VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT
endif::VK_COMPUTE_VERSION_1_4,VK_EXT_pipeline_protected_access[]
ifdef::VK_EXT_descriptor_heap[]
  * [[VUID-{refpage}-flags-11311]]
    If slink:VkPipelineCreateFlags2CreateInfoKHR::pname:flags includes
    ename:VK_PIPELINE_CREATE_2_DESCRIPTOR_HEAP_BIT_EXT, pname:layout must:
    be dlink:VK_NULL_HANDLE
  * [[VUID-{refpage}-flags-11312]]
    If slink:VkPipelineCreateFlags2CreateInfoKHR::pname:flags includes
    ename:VK_PIPELINE_CREATE_2_DESCRIPTOR_HEAP_BIT_EXT, all shader variables
    in the <<interfaces-resources,shader resource interface>> with a
    code:DescriptorSet and code:Binding decoration must: have a mapping
    declared in
    slink:VkShaderDescriptorSetAndBindingMappingInfoEXT::pMappings
endif::VK_EXT_descriptor_heap[]
// Common Valid Usage
